{# src/whiteLabel/BackOfficeBundle/Resources/views/Prime/inc/list/table.html.twig #}
<table cellspacing="0" id="table_prime" class="table table-striped table-bordered big_table">
    <thead>
        <tr>
            <th class="breakWord col0">N° Lot</th>
            <th class="breakWord col1">N° de ch&egrave;que</th>
            <th class="breakWord col2">Repr&eacute;sentant</th>
            <th class="breakWord col3">Ville</th>
            <th class="breakWord col4">Mode de paiement</th>
            <th class="breakWord col5">Courriel</th>
            <th class="breakWord col6">T&eacute;l&eacute;phone</th>
            <th class="breakWord col7">Statut</th>
            <th class="breakWord col8">Date d'int&eacute;gration</th>
            <th class="breakWord col9">Onglet</th>
            <th class="breakWord col10">Action</th>
        </tr>

        {#
        {% if list is not empty %}
        <tr id="filterrow">
            <th class="with_search">N° Lot</th>
            <th class="with_search">N° de ch&egrave;que</th>
            <th class="with_search">Repr&eacute;sentant</th>
            <th class="with_search">Ville</th>
            <th class="with_search">Mode de paiement</th>
            <th class="with_search">Courriel</th>
            <th class="with_search">T&eacute;l&eacute;phone</th>
            <th class="with_search">Statut</th>
            <th class="with_search">Date d'int&eacute;gration</th>
            <th class="with_search">Onglet</th>
            <th class="text-center">
                <button type="button"
                        role="button"
                        class="btn btn-danger btn-xs"
                        data-toggle="tooltip"
                        data-placement="bottom"
                        data-container="body"
                        title="Vider les champs de recherche"
                        id="clear_search_input"
                >
                    <i class="glyphicon glyphicon-erase"></i>
                </button>
            </th>
        </tr>
        {% endif %}
        #}
    </thead>

    <tbody>
    {% set typeArray = {
        '0 | particulier': 'Particulier',
        '1 | societe': 'Société',
        '': '-'
    } %}

    {% if list is not empty %}
        {% for item in list %}
        <tr>
            <td>{{ item.lotNumero }}</td>
            <td>
                <a href="{{ path('prime_read', {'clientId': clientId, 'primeId': item.primeId}) }}" title="link">
                {{ item.primeNumero ? item.primeNumero : 'En attente' }}
                </a>
            </td>
            <td class="breakWord">
                {% if item.primePrenom or item.primeNom|upper %}
                    {{ item.primePrenom|capitalize }} {{ item.primeNom|upper }}
                {% else %}
                    {{ item.primeSiren|capitalize }}<br>
                    {{ item.primeDenomination|capitalize }}<br>
                    {{ item.primeRepresentant|capitalize }}
                {% endif %}
            </td>
            <td class="breakWord">{{ item.primeCodePostal }} {{ item.primeVille }}</td>
            <td class="breakWord">{{ item.primeType }}</td>
            <td class="breakWord">{{ item.primeEmail }}</td>
            <td class="breakWord">{{ item.primeTelephone }}</td>
            <td class="breakWord">{{ item.lotStatut }}</td>
            <td class="textCenter">{{ item.primeDateIntegration|date('d/m/Y') }}</td>
            <td class="breakWord">{{ item.primeOnglet }}</td>
            <td>
                <a href="{{ path('prime_update_rib', {'clientId': clientId, 'primeId': item.primeId}) }}"
                   class="btn btn-primary btn-xs"
                   role="button"
                   data-toggle="tooltip"
                   data-placement="bottom"
                   data-container="body"
                   title="Modifier le RIB"
                >
                    <i class="glyphicon glyphicon-euro"></i>
                </a>

                <a href="{{ path('prime_update_address', {'clientId': clientId, 'primeId': item.primeId}) }}"
                   class="btn btn-primary btn-xs"
                   role="button"
                   data-toggle="tooltip"
                   data-placement="bottom"
                   data-container="body"
                   title="Modifier l'Adresse"
                >
                    <i class="glyphicon glyphicon-home"></i>
                </a>
            </td>
        </tr>
        {% endfor %}
    {% else %}
        <tr>
            <th colspan="11" class="textCenter">Aucune Prime enregistr&eacute;e.</th>
        </tr>
    {% endif %}
    </tbody>
</table>
